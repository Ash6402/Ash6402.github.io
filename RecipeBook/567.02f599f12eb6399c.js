"use strict";(self.webpackChunkproject_app=self.webpackChunkproject_app||[]).push([[567],{567:(F,f,s)=>{s.r(f),s.d(f,{ShoppingListComponent:()=>E});var Z=s(6895),m=s(2346),i=s(7746),g=s(3359),t=s(8256),b=s(9985),C=s(9944),a=s(433),S=s(1196);const T=["f"];function _(n,o){1&n&&(t.TgZ(0,"span",16),t._uU(1,"Name is required!!"),t.qZA())}function I(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.deleteIngredient())}),t._uU(1,"Delete"),t.qZA()}}let x=(()=>{var n=new WeakMap,o=new WeakMap,e=new WeakMap,d=new WeakMap,u=new WeakMap;class l{constructor(){(0,m.Z)(this,n,{writable:!0,value:void 0}),(0,m.Z)(this,o,{writable:!0,value:void 0}),(0,m.Z)(this,e,{writable:!0,value:void 0}),(0,m.Z)(this,d,{writable:!0,value:void 0}),(0,m.Z)(this,u,{writable:!0,value:void 0}),this.editMode=!1,(0,g.Z)(this,n,(0,t.f3M)(C._)),(0,g.Z)(this,o,(0,t.f3M)(S.gz)),(0,g.Z)(this,e,(0,t.f3M)(S.F0))}ngOnDestroy(){(0,i.Z)(this,u).unsubscribe()}ngOnInit(){(0,g.Z)(this,u,(0,i.Z)(this,n).ingredientEdit.subscribe(r=>{(0,g.Z)(this,d,r),this.editMode=!0,(0,i.Z)(this,e).navigate([r,"edit"],{relativeTo:(0,i.Z)(this,o)});const p=(0,i.Z)(this,n).getIngredient(r);this.form.setValue({name:p.name,amount:p.amount})}))}onSubmit(){this.editMode?(0,i.Z)(this,n).updateIngredient((0,i.Z)(this,d),new b.o(this.form.value.name,this.form.value.amount)):(0,i.Z)(this,n).addInList(new b.o(this.form.value.name,this.form.value.amount)),this.editMode=!1,this.form.reset(),(0,i.Z)(this,e).navigate(["../shopping-list"],{relativeTo:(0,i.Z)(this,o)})}clearForm(){this.editMode=!1,this.form.reset()}deleteIngredient(){(0,i.Z)(this,n).deleteIngredient((0,i.Z)(this,d)),this.editMode=!1,this.form.reset(),(0,i.Z)(this,e).navigate(["../shopping-list"],{relativeTo:(0,i.Z)(this,o)})}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-shopping-edit"]],viewQuery:function(r,p){if(1&r&&t.Gf(T,5),2&r){let c;t.iGM(c=t.CRH())&&(p.form=c.first)}},standalone:!0,features:[t.jDz],decls:24,vars:8,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["f","ngForm"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],["name","ngModel"],["class","help-block",4,"ngIf"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","pattern","[1-9]+[0-9]*","ngModel","","required","",1,"form-control"],["amount","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"help-block"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,p){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),t.NdJ("ngSubmit",function(){return p.onSubmit()}),t.TgZ(4,"div",0)(5,"div",4)(6,"label",5),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",6,7),t.YNc(10,_,2,0,"span",8),t.qZA(),t.TgZ(11,"div",0)(12,"div",9)(13,"label",10),t._uU(14,"Amount"),t.qZA(),t._UZ(15,"input",11,12),t.qZA()()(),t.TgZ(17,"div",0)(18,"div",1)(19,"button",13),t._uU(20),t.qZA(),t.YNc(21,I,2,0,"button",14),t.TgZ(22,"button",15),t.NdJ("click",function(){return p.clearForm()}),t._uU(23,"Clear"),t.qZA()()()()()()),2&r){const c=t.MAs(3),v=t.MAs(9),M=t.MAs(16);t.xp6(8),t.ekj("invalid",v.invalid&&v.touched),t.xp6(2),t.Q6J("ngIf",v.invalid&&v.touched),t.xp6(5),t.ekj("invalid",M.invalid&&M.touched),t.xp6(4),t.Q6J("disabled",c.invalid),t.xp6(1),t.Oqu(p.editMode?"update":"add"),t.xp6(1),t.Q6J("ngIf",p.editMode)}},dependencies:[a.u5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.c5,a.On,a.F,Z.O5],styles:[".invalid[_ngcontent-%COMP%]{outline:1px solid red}"]}),l})();function y(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",4),t.NdJ("click",function(){const l=t.CHM(e).index,h=t.oxw();return t.KtG(h.onEditItem(l))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(1),t.AsE(" ",e.name," (",e.amount,")")}}let E=(()=>{class n{constructor(e){this.shoppingListService=e,this.ingredients=[]}ngOnInit(){this.ingredients=this.shoppingListService.getIngredients(),this.IngChange=this.shoppingListService.ingredientsChanged.subscribe(e=>this.ingredients=e)}onEditItem(e){this.shoppingListService.ingredientEdit.next(e)}ngOnDestroy(){this.IngChange.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-list"]],standalone:!0,features:[t.jDz],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor:pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(e,d){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-shopping-edit")(3,"hr"),t.TgZ(4,"ul",2),t.YNc(5,y,2,2,"a",3),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",d.ingredients))},dependencies:[x,Z.ax]}),n})()}}]);